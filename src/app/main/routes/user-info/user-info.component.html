<app-header [title]="'user Info'" [componentRef]="componentRef"></app-header>
<main class="userInfo-container">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit(userForm)" *ngIf="!isLoading">
    <header>
      <app-select-image [form]="userForm" (onImageFileChange)="initImg($event)"></app-select-image>
  </header>

    <ul>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [placeholder]="customFormFields[0].properties['label']!" 
        [name]="customFormFields[0].properties['label']!.toLowerCase()" 
        [label]="customFormFields[0].properties['label']!"></app-form-input>
      </li>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [type]="customFormFields[1].properties['type']!" 
        [placeholder]="customFormFields[1].properties['label']!" 
        [name]="customFormFields[1].properties['label']!.toLowerCase()" 
        [label]="customFormFields[1].properties['label']!"></app-form-input>
      </li>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [type]="customFormFields[2].properties['type']!" 
        [placeholder]="customFormFields[2].properties['label']!" 
        [name]="customFormFields[2].properties['label']!.toLowerCase()" 
        [label]="customFormFields[2].properties['label']!"></app-form-input>
      </li>
    </ul>

    <div class='btn-container'>
      <button
      type="submit"
      [disabled]="!userForm.valid"
      mat-raised-button> update </button>
    </div>
  </form>

  <ng-container *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
  </ng-container>

</main>
