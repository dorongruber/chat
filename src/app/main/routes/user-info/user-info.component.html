<app-header [title]="'user Info'" [componentRef]="componentRef"></app-header>
<main class="userInfo-container">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit(userForm)" *ngIf="!isLoading">
    <header>
      <app-select-image [form]="userForm" (onImageFileChange)="initImg($event)"></app-select-image>
  </header>

    <ul>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [placeholder]="'Name'" 
        [name]="'name'" 
        [formControlName]="'name'" 
        [label]="'Name'"></app-form-input>
      </li>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [type]="'email'" 
        [placeholder]="'Email'" 
        [name]="'email'" 
        [formControlName]="'email'" 
        [label]="'Email'"></app-form-input>
      </li>
      <li>
        <app-form-input 
        [enableRadonly]="true"
        [form]="userForm" 
        [type]="'tel'" 
        [placeholder]="'Phone'" 
        [name]="'phone'" 
        [formControlName]="'phone'" 
        [label]="'Phone'"></app-form-input>
      </li>
    </ul>

    <div class='btn-container'>
      <button
      type="submit"
      [disabled]="!userForm.valid"
      mat-raised-button> update </button>
    </div>
  </form>

  <ng-container *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
  </ng-container>

</main>
